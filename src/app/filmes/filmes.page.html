<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>Filmes</ion-title>
    <ion-buttons slot="end">
      <ion-button routerLink="/favoritos">
        <ion-icon name="heart"></ion-icon>
        Favoritos
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <ion-spinner *ngIf="!popularMovies.length" name="crescent"></ion-spinner>

  <div class="section">
    <h2>Filmes populares</h2>
    <ion-grid>
      <ion-row>
        <ion-col size="6" size-md="4" size-lg="3" *ngFor="let movie of popularMovies">
          <ion-card>
            <img src="https://image.tmdb.org/t/p/w500/{{ movie.poster_path }}" />
            <ion-card-content>
              <h3>{{ movie.title }}</h3>
              <ion-button *ngIf="!isFavorite(movie.id)" color="primary" (click)="addFavorite(movie)">
                Adicionar aos favoritos
              </ion-button>
              <ion-button *ngIf="isFavorite(movie.id)" color="danger" (click)="removeFavorite(movie.id)">
                Remover dos favoritos
              </ion-button>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
